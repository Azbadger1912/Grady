<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Mensajeria - profes</title>
        <link rel="stylesheet" href="styles/mensajeria.css">
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel='stylesheet'>
    </head>
    <body>
        <!-- barra lateral -->
        <nav class="sidebar">
            <div class="logo-menu">
                <img src="assets/logo_grady.svg" class="name">
                <i class="bx bx-menu toggle-btn"></i>
            </div>
            <ul class="list">
                <li class="list-item">
                    <a href="pagina_principal.html">
                        <i class='bx bx-home-alt-2'></i>
                        <span class="link-name" style="--i:1;">Inicio</span>
                    </a>
                </li>
                <li class="list-item">
                    <a href="mensajeria.html" style="background-color: white; color: #0e8282;">
                        <i class='bx bx-message-detail'></i>
                        <span class="link-name" style="--i:1;">Mensajería</span>
                    </a>
                </li>
                <li class="list-item">
                    <a href="agenda.html">
                        <i class='bx bx-calendar' ></i>
                        <span class="link-name" style="--i:2;">Agenda</span>
                    </a>
                </li>
                <li class="list-item">
                    <a href="notas.html">
                        <i class='bx bx-file'></i>
                        <span class="link-name" style="--i:3;">Notas</span>
                    </a>
                </li>
                <li class="list-item">
                    <a href="info.html">
                        <i class='bx bx-info-circle' ></i>
                        <span class="link-name" style="--i:4;">Información</span>
                    </a>
                </li>
                <li class="list-item">
                    <a href="ajustes.html">
                        <i class='bx bx-cog' ></i>
                        <span class="link-name" style="--i:5;">Configuración</span>
                    </a>
                </li>
                <li class="list-item">
                    <a onclick="cerrarSesion()">
                        <i class='bx bx-log-out'></i>
                        <span class="link-name" style="--i:6;">Cerrar sesión</span>
                    </a>
                </li>
            </ul>
        </nav>
       
        
        <!-- barra superior -->
        <header>
            <div style="display: flex;; width: 100%; justify-content: center;">
                <img src="assets/Logo-ITDB-nombre-completo_panama.png" alt="itdb logo" class="logo" style="margin-right: 10px;">
                <h3 style="white-space: nowrap;"> Instituto Técnico Don Bosco </h3>
            </div>
            <h3 style="position: absolute; right: 0%;"><a href="ajustes.html" style="color: white;"><i class='bx bx-user-circle' style="padding-right: 10px;"></i></a></h3>
        </header>

        <!-- contenido principal -->
        <main>
            <span id="title">MENSAJERÍA</span>
            <div class="main">
                <ul class="opcs">
                    <li class="red"> 
                        <a href="#" class="toggle-link" data-target="div2">
                            <span style="color: #ffffff;"> Redactar </span>
                            <i class='bx bx-plus' style="color: #ffffff;"></i>
                        </a>
                    </li> 
                    <li></li>
                    <li> 
                        <a href="#" class="toggle-link active" data-target="div1" style="color: #16c4c4; text-decoration: underline; pointer-events: auto;">
                            <span class="rest"> Recibidos </span>
                        </a>
                    </li> 
                    <li> 
                        <a href="#" class="toggle-link" data-target="div3">
                            <span class="rest"> Enviados </span>
                        </a>
                    </li> 
                    <li> 
                        <a href="#" class="toggle-link" data-target="div4">
                            <span class="rest"> Borradores </span>
                        </a>
                    </li> 
                    <li> 
                        <a href="#" class="toggle-link" data-target="div5">
                            <span class="rest"> Eliminados </span>
                        </a>
                    </li> 
                    <li></li>
                    <li></li>
                    <li>
                        <a href="ajustes.html" class="link-ajus">
                            <i class='bx bx-user-circle' style="font-size: 20px;"></i>
                            <span class="rest" id="nombre_usuario"></span>
                        </a>
                    </li>
                </ul>
                <div id="div1" class="bandeja">
                    <div id="bandeja_recibidos" class="container">
                        <span class="empty" style="display: none;">No hay mensajes recibidos.</span>
                        <!-- mensajes por js -->
                    </div>
                </div>
                <div id="div2" class="redactar hidden">
                    <div class="top">
                        <span id="l1"> Para: </span>
                        <p id="para_text"></p>
                        <button class="add" onclick="openPara()"> <i class='bx bx-plus'></i> </button>
                        <span id="l2"> CCO: </span>
                        <p id="cco_text"></p>
                        <button class="add" onclick="openCCO()"> <i class='bx bx-plus'></i> </button>
                        <span id="l3"> Asunto: </span>
                        <input id="asunto"></input>
                        <button id="send" class="btns" onclick="sendMsg()"> <i class='bx bxs-send'></i> </button>
                        <button id="delt" class="btns" onclick="clearContent()"> <i class='bx bxs-trash'></i> </button>
                    </div>
                    <div class="body">
                        <div class="format">
                            <button onclick="formatDoc('undo')"> <i class='bx bx-undo' ></i> </button>
                            <button onclick="formatDoc('redo')" style="margin-right: 10px;"> <i class='bx bx-redo' ></i> </button>
                    
                            <button onclick="formatDoc('justifyLeft')"> <i class='bx bx-align-left'></i> </button>
                            <button onclick="formatDoc('justifyCenter')"> <i class='bx bx-align-middle'></i> </button>
                            <button onclick="formatDoc('justifyRight')"> <i class='bx bx-align-right'></i> </button>
                            <button onclick="formatDoc('justifyFull')" style="margin-right: 10px;"> <i class='bx bx-align-justify'></i> </button>
                        
                            <button onclick="formatDoc('bold')"> <i class='bx bx-bold'></i> </button>
                            <button onclick="formatDoc('italic')"> <i class='bx bx-italic'></i> </button>
                            <button onclick="formatDoc('underline')" style="margin-right: 10px;"> <i class='bx bx-underline'></i> </button>
                    
                            <button onclick="formatDoc('insertOrderedList')"> <i class='bx bx-list-ol'></i> </button>
                            <button onclick="formatDoc('insertUnorderedList')" style="margin-right: 10px;"> <i class='bx bx-list-ul'></i> </button>
                    
                            <button onclick="createLink()"> <i class='bx bx-link' ></i> </button>
                            <button onclick="formatDoc('unlink')"> <i class='bx bx-paperclip'></i> </button>
                        </div>
                        <div id="content" contenteditable="true" spellcheck="false" data-placeholder="Escriba su mensaje..."></div>
                    </div>
                </div>
                <div id="div3" class="enviados hidden">
                    <div id="bandeja_enviados" class="container">
                        <button class="mens">
                            <i class='bx bx-user-circle'></i>
                            <div class="rem-mes">
                                <p> asunto - dest1, dest2, dest3, dest4... </p>
                                <p> vista previa del mensaje </p>
                            </div>
                            <div class="date-new">
                                <p> fecha </p>
                            </div>
                        </button>
                        <span class="empty" style="display: none;">No hay mensajes eliminados.</span>
                        <!-- mas mensajes por js -->
                    </div>
                </div>    
                <div id="div4" class="borradores hidden">
                    <div id="bandeja_borradores" class="container">
                        <button class="mens">
                            <i class='bx bx-user-circle'></i>
                            <div class="rem-mes">
                                <p> asunto - dest1, dest2, dest3, dest4... </p>
                                <p> <span style="color: red;"> (borrador) </span> vista previa del mensaje </p>
                            </div>
                            <div class="date-new">
                                <p> fecha </p>
                            </div>
                        </button>
                        <span class="empty" style="display: none;">No hay mensajes eliminados.</span>
                        <!-- mas mensajes por js -->
                    </div>
                </div>
                <div id="div5" class="eliminados hidden">
                    <div id="bandeja_eliminados" class="container">
                        <span class="empty" style="display: none;">No hay mensajes eliminados.</span>
                    </div>
                </div>
            </div>
        </main>

        <!-- modals -->
        <dialog class="mensaje"> <!-- mensajes -->
            <button class="cerrar"> <i class='bx bx-x'></i> </button>
            <div class="mens_content">
                <p class="fecha">día de la semana, número de mes de año, hora</p>
                <span class="asunto">Asunto</span>
                <div class="mens_top">
                    <span style="grid-area: de;">De:</span>
                    <p style="grid-area: remit;">Remitente</p>
                    <span style="grid-area: para;">Para:</span>
                    <p style="grid-area: persona;">personas que reciben aaaaaaaaaaaa</p>
                </div>
                <button class="file"> Archivo adjunto <i class='bx bx-download'></i> </button>
                <p style="line-height: 23px;">
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Nisi harum eum alias, dolore nemo qui 
                    architecto veritatis dolores fugit amet dicta aliquid voluptas sunt atque sed mollitia animi. 
                    Possimus odio deserunt quisquam odit, mollitia itaque sapiente quam pariatur facilis voluptates
                    qui perspiciatis molestiae nobis sed unde veniam officia? Corrupti, temporibus sequi cupiditate, 
                    tenetur eos iure iste excepturi quia eligendi dolorem perspiciatis eius, sint incidunt minus! 
                    Nemo quas aut dolorum dolore fugiat ex voluptatibus impedit dolores aliquid, nobis, culpa nihil,
                    ea praesentium itaque error nostrum assumenda amet temporibus dicta unde consectetur. Quos in sit
                    soluta minus debitis quam illum porro. Perspiciatis, consequuntur id porro recusandae optio nam 
                    natus ipsum, obcaecati quas doloribus dolorem voluptatem cumque quos quod sapiente vitae libero? 
                    Culpa?
                <p>
            </div>
        </dialog>
        <dialog id="para_modal" class="usuarios">
            <button class="cerrar" onclick="closePara()"> <i class='bx bx-x'></i> </button>
            <p class="subtitle"> PARA </p>
            <div class="carpeta">
                <div style="position: relative; height: 40px;" >
                    <div style="display: flex; width: 100%; position: absolute; bottom: -1px; left: 0;">
                        <button class="index" id="btn_prof_para" onclick="selec_table('btn_prof_para', 'profesores_para')">PROFESORES</button>
                        <button class="index" id="btn_estd_para" onclick="selec_table('btn_estd_para', 'estudiantes_para')">ESTUDIANTES</button>
                        <button class="index" id="btn_admn_para" onclick="selec_table('btn_admn_para', 'admins_para')">ADMIN.</button>
                    </div>
                </div>
                <div class="bckgrnd">
                    <table id="profesores_para">
                        <thead>
                            <tr>
                                <td style="width: 5%;"> <input type="checkbox" id="selectAllParaProf" onclick="toggleChkParaProf(this)"> </td>
                                <td style="width: 5%;"></td>
                                <td style="width: 40%;"> NOMBRE </td>
                                <td style="width: 50%;"> DESCRIPCIÓN </td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td> <input type="checkbox" class="group_para_prof" value="Amithis Melgarejo" onclick="updateTextParaProf(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Amithis Melgarejo </td>
                                <td> Biología </td>
                            </tr>
                            <tr>
                                <td> <input type="checkbox" class="group_para_prof" value="Gaspar Bosquez" onclick="updateTextParaProf(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Gaspar Bosquez </td>
                                <td> Química </td>
                            </tr>
                            <tr>
                                <td> <input type="checkbox" class="group_para_prof" value="Gina Martinez" onclick="updateTextParaProf(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Gina Martinez </td>
                                <td> Programación </td>
                            </tr>
                            <tr>
                                <td> <input type="checkbox" class="group_para_prof" value="Gina Martinez" onclick="updateTextParaProf(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Gina Martinez </td>
                                <td> Práctica Profesional </td>
                            </tr>
                            <tr>
                                <td> <input type="checkbox" class="group_para_prof" value="Jorge Carrera" onclick="updateTextParaProf(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Jorge Carrera </td>
                                <td> Matemáticas </td>
                            </tr>
                        </tbody>
                    </table>
                    <table id="estudiantes_para">
                        <thead>
                            <tr>
                                <td style="width: 5%;"> <input type="checkbox" id="selectAllParaEstd" onclick="toggleChkParaEstd(this)"> </td>
                                <td style="width: 5%;"></td>
                                <td style="width: 40%;"> NOMBRE </td>
                                <td style="width: 50%;"> DESCRIPCIÓN </td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td> <input type="checkbox" class="group_para_estd" value="Gabriela Avion" onclick="updateTextParaEstd(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Gabriela Avion </td>
                                <td> 12C </td>
                            </tr>
                            <tr>
                                <td> <input type="checkbox" class="group_para_estd" value="Isabel Reyes" onclick="updateTextParaEstd(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Isabel Reyes </td>
                                <td> 12C </td>
                            </tr>
                            <tr>
                                <td> <input type="checkbox" class="group_para_estd" value="Fabricio Moreno" onclick="updateTextParaEstd(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Fabricio Moreno </td>
                                <td> 12C </td>
                            </tr>
                            <tr>
                                <td> <input type="checkbox" class="group_para_estd" value="Daniel Garcia" onclick="updateTextParaEstd(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Daniel Garcia </td>
                                <td> 12C </td>
                            </tr>
                        </tbody>
                    </table>
                    <table id="admins_para">
                        <thead>
                            <tr>
                                <td style="width: 5%;"> <input type="checkbox" id="selectAllParaAdmn" onclick="toggleChkParaAdmn(this)"> </td>
                                <td style="width: 5%;"></td>
                                <td style="width: 40%;"> NOMBRE </td>
                                <td style="width: 50%;"> DESCRIPCIÓN </td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td> <input type="checkbox" class="group_para_admn" value="Dios" onclick="updateTextParaAdmn(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Manuel Solano </td>
                                <td> Director </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </dialog>
        <dialog id="cco_modal" class="usuarios">
            <button class="cerrar" onclick="closeCCO()"> <i class='bx bx-x'></i> </button>
            <p class="subtitle"> CCO </p>
            <div class="carpeta">
                <div style="position: relative; height: 40px;" >
                    <div style="display: flex; width: 100%; position: absolute; bottom: -1px; left: 0;">
                        <button class="index" id="btn_prof_cco" onclick="selec_table('btn_prof_cco', 'profesores_cco')">PROFESORES</button>
                        <button class="index" id="btn_estd_cco" onclick="selec_table('btn_estd_cco', 'estudiantes_cco')">ESTUDIANTES</button>
                        <button class="index" id="btn_admn_cco" onclick="selec_table('btn_admn_cco', 'admins_cco')">ADMIN.</button>
                    </div>
                </div>
                <div class="bckgrnd">
                    <table id="profesores_cco">
                        <thead>
                            <tr>
                                <td style="width: 5%;"> <input type="checkbox" id="selectAllCCOProf" onclick="toggleChkCCOProf(this)"> </td>
                                <td style="width: 5%;"></td>
                                <td style="width: 40%;"> NOMBRE </td>
                                <td style="width: 50%;"> DESCRIPCIÓN </td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td> <input type="checkbox" class="group_cco_prof" value="Amithis Melgarejo" onclick="updateTextCCOProf(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Amithis Melgarejo </td>
                                <td> Biología </td>
                            </tr>
                            <tr>
                                <td> <input type="checkbox" class="group_cco_prof" value="Gaspar Bosquez" onclick="updateTextCCOProf(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Gaspar Bosquez </td>
                                <td> Química </td>
                            </tr>
                            <tr>
                                <td> <input type="checkbox" class="group_cco_prof" value="Gina Martinez" onclick="updateTextCCOProf(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Gina Martinez </td>
                                <td> Programación </td>
                            </tr>
                            <tr>
                                <td> <input type="checkbox" class="group_cco_prof" value="Gina Martinez" onclick="updateTextCCOProf(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Gina Martinez </td>
                                <td> Práctica Profesional </td>
                            </tr>
                            <tr>
                                <td> <input type="checkbox" class="group_cco_prof" value="Jorge Carrera" onclick="updateTextCCOProf(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Jorge Carrera </td>
                                <td> Matemáticas </td>
                            </tr>
                        </tbody>
                    </table>
                    <table id="estudiantes_cco">
                        <thead>
                            <tr>
                                <td style="width: 5%;"> <input type="checkbox" id="selectAllCcoEstd" onclick="toggleChkCCOEstd(this)"> </td>
                                <td style="width: 5%;"></td>
                                <td style="width: 40%;"> NOMBRE </td>
                                <td style="width: 50%;"> DESCRIPCIÓN </td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td> <input type="checkbox" class="group_cco_estd" value="Gabriela Avion" onclick="updateTextCCOEstd(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Gabriela Avion </td>
                                <td> 12C </td>
                            </tr>
                            <tr>
                                <td> <input type="checkbox" class="group_cco_estd" value="Isabel Reyes" onclick="updateTextCCOEstd(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Isabel Reyes </td>
                                <td> 12C </td>
                            </tr>
                            <tr>
                                <td> <input type="checkbox" class="group_cco_estd" value="Fabricio Moreno" onclick="updateTextCCOEstd(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Fabricio Moreno </td>
                                <td> 12C </td>
                            </tr>
                            <tr>
                                <td> <input type="checkbox" class="group_cco_estd" value="Daniel Garcia" onclick="updateTextCCOEstd(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Daniel Garcia </td>
                                <td> 12C </td>
                            </tr>
                        </tbody>
                    </table>
                    <table id="admins_cco">
                        <thead>
                            <tr>
                                <td style="width: 5%;"> <input type="checkbox" id="selectAllCcoAdmn" onclick="toggleChkCCOAdmn(this)"> </td>
                                <td style="width: 5%;"></td>
                                <td style="width: 40%;"> NOMBRE </td>
                                <td style="width: 50%;"> DESCRIPCIÓN </td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td> <input type="checkbox" class="group_cco_admn" value="Manuel Solano" onclick="updateTextCCOAdmn(this)"> </td>
                                <td> <i class='bx bx-user-circle'></i> </td>
                                <td> Manuel Solano </td>
                                <td> Director </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </dialog>
        
        <i class='bx bxs-circle'></i>

        <!-- js -->
        <script src="scripts/mensajeria.js"></script>
        
        <script> <!-- mensaje vacio -->
            const containers = document.querySelectorAll('.container');

            containers.forEach(container => {
                const popup = container.querySelector('.empty');

                if (container.children.length > 1) {
                    popup.style.display = 'none';
                } else {
                    popup.style.display = 'block';
                }
            });
        </script>
        <script> <!-- cambio tabla -->
            document.addEventListener('DOMContentLoaded', function() {
                selec_table('btn_prof_para', 'profesores_para');
                selec_table('btn_prof_cco', 'profesores_cco');
            });

            function selec_table(btn, cont){
                const isPara = btn.includes('para');
                const isCco = btn.includes('cco');

                let btn1, btn2, btn3, tbl1, tbl2, tbl3;

                if (isPara) {
                    btn1 = document.getElementById('btn_prof_para');
                    btn2 = document.getElementById('btn_estd_para');
                    btn3 = document.getElementById('btn_admn_para');
                    tbl1 = document.getElementById('profesores_para');
                    tbl2 = document.getElementById('estudiantes_para');
                    tbl3 = document.getElementById('admins_para');
                } else if (isCco) {
                    btn1 = document.getElementById('btn_prof_cco');
                    btn2 = document.getElementById('btn_estd_cco');
                    btn3 = document.getElementById('btn_admn_cco');
                    tbl1 = document.getElementById('profesores_cco');
                    tbl2 = document.getElementById('estudiantes_cco');
                    tbl3 = document.getElementById('admins_cco');
                }

                const boton = document.getElementById(btn);
                const conteiner = document.getElementById(cont);

                btn1.classList.remove('s_bot');
                btn2.classList.remove('s_bot');
                btn3.classList.remove('s_bot');
                tbl1.classList.remove('s');
                tbl2.classList.remove('s');
                tbl3.classList.remove('s');

                boton.classList.add('s_bot');
                conteiner.classList.add('s');
            }
        </script>
        <script> <!-- funciones botones -->
            const para_modal = document.getElementById('para_modal');
            const cco_modal = document.getElementById('cco_modal');

            function openPara(){
                para_modal.showModal();
            }
            function closePara(){
                para_modal.close();
            }
            
            function openCCO(){
                cco_modal.showModal();
            }
            function closeCCO(){
                cco_modal.close();
            }

            function sendMsg(){
                const destinatario = document.getElementById('para_text').textContent;
                const copiaOculta = document.getElementById('cco_text').textContent;
                const asunto = document.getElementById('asunto').value;
                const contenido = document.getElementById('content').innerHTML;

                console.log(destinatario);
                console.log(copiaOculta);
                console.log(asunto);
                console.log(contenido);
            }
            function clearContent(){
                document.getElementById('para_text').textContent = "";
                document.getElementById('cco_text').textContent = "";
                document.getElementById('asunto').value = "";
                document.getElementById('content').textContent = "";

                let paraCheckboxes = document.querySelectorAll('#para_modal input[type="checkbox"]');
                paraCheckboxes.forEach(checkbox => {
                    checkbox.checked = false;
                });

                let ccoCheckboxes = document.querySelectorAll('#cco_modal input[type="checkbox"]');
                ccoCheckboxes.forEach(checkbox => {
                    checkbox.checked = false;
                });
            }
        </script>
        <script> <!-- funciones para -->
            function toggleChkParaProf(selectAllCheckbox) {
                const checkboxes = document.querySelectorAll('.group_para_prof');
                
                checkboxes.forEach((checkbox) => {
                    checkbox.checked = selectAllCheckbox.checked;
                });

                updateAllTextParaProf();
            }

            function updateTextParaProf(checkbox) {
                updateAllTextParaProf();
            }

            function updateAllTextParaProf() {
                const checkboxes = document.querySelectorAll('.group_para_prof');
                const selectedText = document.getElementById('para_text');
                let text = selectedText.innerText.split(', ').filter(item => item);

                checkboxes.forEach((checkbox) => {
                    if (checkbox.checked && !text.includes(checkbox.value)) {
                        text.push(checkbox.value);
                    } else if (!checkbox.checked && text.includes(checkbox.value)) {
                        text = text.filter(item => item !== checkbox.value);
                    }
                });

                selectedText.innerText = text.join(', ');
            }

            function toggleChkParaEstd(selectAllCheckbox) {
                const checkboxes = document.querySelectorAll('.group_para_estd');
                
                checkboxes.forEach((checkbox) => {
                    checkbox.checked = selectAllCheckbox.checked;
                });

                updateAllTextParaEstd();
            }

            function updateTextParaEstd(checkbox) {
                updateAllTextParaEstd();
            }

            function updateAllTextParaEstd() {
                const checkboxes = document.querySelectorAll('.group_para_estd');
                const selectedText = document.getElementById('para_text');
                let text = selectedText.innerText.split(', ').filter(item => item);

                checkboxes.forEach((checkbox) => {
                    if (checkbox.checked && !text.includes(checkbox.value)) {
                        text.push(checkbox.value);
                    } else if (!checkbox.checked && text.includes(checkbox.value)) {
                        text = text.filter(item => item !== checkbox.value);
                    }
                });

                selectedText.innerText = text.join(', ');
            }

            function toggleChkParaAdmn(selectAllCheckbox) {
                const checkboxes = document.querySelectorAll('.group_para_admn');
                
                checkboxes.forEach((checkbox) => {
                    checkbox.checked = selectAllCheckbox.checked;
                });

                updateAllTextParaAdmn();
            }

            function updateTextParaAdmn(checkbox) {
                updateAllTextParaAdmn();
            }

            function updateAllTextParaAdmn() {
                const checkboxes = document.querySelectorAll('.group_para_admn');
                const selectedText = document.getElementById('para_text');
                let text = selectedText.innerText.split(', ').filter(item => item);

                checkboxes.forEach((checkbox) => {
                    if (checkbox.checked && !text.includes(checkbox.value)) {
                        text.push(checkbox.value);
                    } else if (!checkbox.checked && text.includes(checkbox.value)) {
                        text = text.filter(item => item !== checkbox.value);
                    }
                });

                selectedText.innerText = text.join(', ');
            }
        </script>
        <script> <!-- funciones cco -->
            function toggleChkCCOProf(selectAllCheckbox) {
                const checkboxes = document.querySelectorAll('.group_cco_prof');
        
                checkboxes.forEach((checkbox) => {
                    checkbox.checked = selectAllCheckbox.checked;
                });
        
                updateAllTextCCOProf();
            }
        
            function updateTextCCOProf(checkbox) {
                updateAllTextCCOProf();
            }
        
            function updateAllTextCCOProf() {
                const checkboxes = document.querySelectorAll('.group_cco_prof');
                const selectedText = document.getElementById('cco_text');
                let text = selectedText.innerText.split(', ').filter(item => item);
        
                checkboxes.forEach((checkbox) => {
                    if (checkbox.checked && !text.includes(checkbox.value)) {
                        text.push(checkbox.value);
                    } else if (!checkbox.checked && text.includes(checkbox.value)) {
                        text = text.filter(item => item !== checkbox.value);
                    }
                });
        
                selectedText.innerText = text.join(', ');
            }
        
            function toggleChkCCOEstd(selectAllCheckbox) {
                const checkboxes = document.querySelectorAll('.group_cco_estd');
        
                checkboxes.forEach((checkbox) => {
                    checkbox.checked = selectAllCheckbox.checked;
                });
        
                updateAllTextCCOEstd();
            }
        
            function updateTextCCOEstd(checkbox) {
                updateAllTextCCOEstd();
            }
        
            function updateAllTextCCOEstd() {
                const checkboxes = document.querySelectorAll('.group_cco_estd');
                const selectedText = document.getElementById('cco_text');
                let text = selectedText.innerText.split(', ').filter(item => item);
        
                checkboxes.forEach((checkbox) => {
                    if (checkbox.checked && !text.includes(checkbox.value)) {
                        text.push(checkbox.value);
                    } else if (!checkbox.checked && text.includes(checkbox.value)) {
                        text = text.filter(item => item !== checkbox.value);
                    }
                });
        
                selectedText.innerText = text.join(', ');
            }
        
            function toggleChkCCOAdmn(selectAllCheckbox) {
                const checkboxes = document.querySelectorAll('.group_cco_admn');
        
                checkboxes.forEach((checkbox) => {
                    checkbox.checked = selectAllCheckbox.checked;
                });
        
                updateAllTextCCOAdmn();
            }
        
            function updateTextCCOAdmn(checkbox) {
                updateAllTextCCOAdmn();
            }
        
            function updateAllTextCCOAdmn() {
                const checkboxes = document.querySelectorAll('.group_cco_admn');
                const selectedText = document.getElementById('cco_text');
                let text = selectedText.innerText.split(', ').filter(item => item);
        
                checkboxes.forEach((checkbox) => {
                    if (checkbox.checked && !text.includes(checkbox.value)) {
                        text.push(checkbox.value);
                    } else if (!checkbox.checked && text.includes(checkbox.value)) {
                        text = text.filter(item => item !== checkbox.value);
                    }
                });
        
                selectedText.innerText = text.join(', ');
            }
        </script>
    </body>
</html>